<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Weather App üå§Ô∏è</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body {
      height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      font-family:"Poppins",sans-serif;
      color:#fff;
      background: url("https://images.unsplash.com/photo-1501973801540-537f08ccae7b?auto=format&fit=crop&w=1600&q=80") no-repeat center center/cover;
    }

    .overlay {
      position:absolute;
      top:0;left:0;
      width:100%;height:100%;
      background:rgba(0,0,0,0.55);
      z-index:0;
    }

    .card {
      position:relative;
      z-index:1;
      width:90%;
      max-width:600px;
      background:rgba(255,255,255,0.1);
      backdrop-filter:blur(10px);
      border-radius:16px;
      padding:24px;
      box-shadow:0 8px 30px rgba(0,0,0,0.5);
      text-align:center;
      overflow-y:auto;
      max-height:90vh;
    }

    h1 {
      margin-bottom:12px;
      font-size:24px;
    }

    .controls {
      display:flex;
      gap:8px;
      margin-top:12px;
    }
    input[type="text"] {
      flex:1;
      padding:10px 12px;
      border-radius:8px;
      border:none;
      outline:none;
      font-size:15px;
    }
    button {
      padding:10px 14px;
      border-radius:8px;
      border:none;
      background:#ff9800;
      color:#111;
      font-weight:600;
      cursor:pointer;
    }
    button:active{transform:translateY(1px)}

    .message {
      margin-top:16px;
      font-size:14px;
    }
    .message.error {color:#ffb3b3}

    .weatherCard {
      margin-top:16px;
      padding:14px;
      border-radius:10px;
      background:rgba(255,255,255,0.15);
    }
    .weather-row {display:flex;justify-content:center;gap:12px;align-items:center;}
    .weather-row img {width:70px;height:70px;}
    .small {font-size:13px;opacity:0.9;margin-top:6px;}

    .forecast {
      margin-top:20px;
    }
    .forecast-title {
      font-size:18px;
      font-weight:600;
      margin-bottom:12px;
    }
    .forecast-cards {
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(100px,1fr));
      gap:10px;
    }
    .forecast-card {
      background:rgba(255,255,255,0.2);
      border-radius:12px;
      padding:10px;
      text-align:center;
    }
    .forecast-card img {width:50px;height:50px;}
    .forecast-date {font-size:13px;margin-bottom:6px;}
    .forecast-temp {font-weight:600;}
    
    @media (max-width:500px) {
      h1 {font-size:20px;}
      .card {padding:18px;}
    }
  </style>
</head>
<body>
  <div class="overlay"></div>

  <div class="card">
    <h1>üå§Ô∏è Weather App</h1>

    <div class="controls">
      <input id="city" type="text" placeholder="Enter city (e.g. Chennai)" />
      <button id="checkBtn">Check</button>
    </div>

    <div id="output" class="message">Type a city and press Check.</div>
    <div id="weatherContainer" style="display:none"></div>
    <div id="forecastContainer" class="forecast" style="display:none"></div>
  </div>

  <script>
    const apiKey = "cec955d116cd609dbc583275338af232"; 

    const cityInput = document.getElementById('city');
    const checkBtn = document.getElementById('checkBtn');
    const output = document.getElementById('output');
    const weatherContainer = document.getElementById('weatherContainer');
    const forecastContainer = document.getElementById('forecastContainer');

    cityInput.addEventListener('keydown', (e) => { if (e.key === 'Enter') fetchWeather(); });
    checkBtn.addEventListener('click', fetchWeather);

    function showMessage(text, isError=false) {
      output.textContent = text;
      output.className = 'message' + (isError ? ' error' : '');
    }

    function renderWeather(data) {
      weatherContainer.style.display = 'block';
      weatherContainer.innerHTML = `
        <div class="weatherCard">
          <div style="font-weight:700; font-size:18px">${data.name}, ${data.sys.country}</div>
          <div class="weather-row">
            <img src="https://openweathermap.org/img/wn/${data.weather[0].icon}@2x.png" alt="${data.weather[0].description}">
            <div style="text-align:left">
              <div style="font-size:18px; font-weight:600">${Math.round(data.main.temp)}¬∞C</div>
              <div style="text-transform:capitalize">${data.weather[0].description}</div>
              <div class="small">Feels like ${Math.round(data.main.feels_like)}¬∞C ‚Ä¢ Humidity ${data.main.humidity}%</div>
              <div class="small">Wind ${data.wind.speed} m/s</div>
            </div>
          </div>
        </div>
      `;
    }

    function renderForecast(data) {
      forecastContainer.style.display = 'block';
      let html = `<div class="forecast-title">üìÖ 5-Day Forecast</div><div class="forecast-cards">`;

     
      const daily = {};
      data.list.forEach(item => {
        if (item.dt_txt.includes("12:00:00")) {
          const date = new Date(item.dt_txt).toLocaleDateString("en-US",{weekday:"short", month:"short", day:"numeric"});
          daily[date] = item;
        }
      });

      Object.keys(daily).forEach(date => {
        const item = daily[date];
        html += `
          <div class="forecast-card">
            <div class="forecast-date">${date}</div>
            <img src="https://openweathermap.org/img/wn/${item.weather[0].icon}@2x.png" alt="${item.weather[0].description}">
            <div class="forecast-temp">${Math.round(item.main.temp)}¬∞C</div>
            <div style="font-size:12px;text-transform:capitalize">${item.weather[0].description}</div>
          </div>
        `;
      });

      html += "</div>";
      forecastContainer.innerHTML = html;
    }

    async function fetchWeather() {
      const city = cityInput.value.trim();
      weatherContainer.style.display = 'none';
      forecastContainer.style.display = 'none';
      if (!city) return showMessage("Please enter a city name.", true);
      if (apiKey==="YOUR_API_KEY_HERE") return showMessage("‚ö†Ô∏è Add your API key in code!", true);

      showMessage("Fetching weather‚Ä¶");
      try {
        
        const weatherUrl = `https://api.openweathermap.org/data/2.5/weather?q=${encodeURIComponent(city)}&appid=${apiKey}&units=metric`;
        const weatherRes = await fetch(weatherUrl);
        const weatherData = await weatherRes.json();
        if (!weatherRes.ok) return showMessage("API error: " + weatherData.message, true);
        renderWeather(weatherData);

        
        const forecastUrl = `https://api.openweathermap.org/data/2.5/forecast?q=${encodeURIComponent(city)}&appid=${apiKey}&units=metric`;
        const forecastRes = await fetch(forecastUrl);
        const forecastData = await forecastRes.json();
        if (!forecastRes.ok) return showMessage("Forecast error: " + forecastData.message, true);
        renderForecast(forecastData);

        showMessage("‚úÖ Weather data loaded");
      } catch (err) {
        showMessage("Network error: " + err.message, true);
      }
    }
  </script>
</body>
</html>
